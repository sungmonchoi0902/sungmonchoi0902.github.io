<!doctype html>
<html lang="en">
<header>
  <meta charset="UTF-8">
  <title>tabby cat</title>
  <link href="styles.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js"></script>
</header>
<body>
  <h1>good afternoon, 261!</h1>
  <p>
    <h2>yooooooooooo</h2>
    <hr />
    <div>
      <blockquote><b><i><u>"meoooooooow"</u></i></b></blockquote>
    </div>
    <br>
    <div>
      <a href="http://racheldevorah.studio">my real website</a>
    </div>
    <br>
    <div>
      <img src="oprah.gif">
    </div>
    <div>
      <ul>
        <li>corn</li>
        <li>squash</li>
        <li>beans</li>
      </ul>
    </div>
    <br>
    <div>
      <audio controls>
        <source src="mtec343.mp3" type="audio/mpeg">
      </audio>
      <br>
    </div>
    <div>
      <script src="orbits.js"></script>
    </div>

    <script>
      let cam;
      let mosaicSize = 20;
      let radius = 120;

      function setup() {
        createCanvas(640, 480);
        pixelDensity(1);
        cam = createCapture(VIDEO);
        cam.size(640, 480);
        cam.hide();
        noStroke();
      }

      function draw() {
        background(0);

        // 좌우 반전 복구
        push();
        translate(width, 0);
        scale(-1, 1);

        // 전체 모자이크
        cam.loadPixels();
        for (let y = 0; y < height; y += mosaicSize) {
          for (let x = 0; x < width; x += mosaicSize) {
            let c = cam.get(x, y);
            fill(c);
            rect(x, y, mosaicSize, mosaicSize);
          }
        }

        // 마우스 주변만 고해상도
        let flippedMouseX = width - mouseX;
        let zoom = cam.get(flippedMouseX - radius / 2, mouseY - radius / 2, radius, radius);
        image(zoom, flippedMouseX - radius / 2, mouseY - radius / 2, radius, radius);

        pop();
      }
    </script>
  </p>
</body>
</html>